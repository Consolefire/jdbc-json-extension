
language: java

before_install:
  - echo $GPG_SECRET_KEYS | base64 --decode | $DEPLOYMENT_GPG_EXECUTABLE --import
  - echo $GPG_OWNERTRUST | base64 --decode | $DEPLOYMENT_GPG_EXECUTABLE --import-ownertrust

install:
  ./mvnw --settings .mvn.xml install -Dgpg.skip -Dmaven.javadoc.skip=true -B -V

script:
  ./mvnw --settings .mvn.xml clean deploy -B -U -Ppublish
  
before_deploy:
  - ./mvnw help:evaluate -N -Dexpression=project.version|grep -v '\['
  - export project_version=$(./mvnw help:evaluate -N -Dexpression=project.version|grep -v '\[')







